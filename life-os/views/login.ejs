<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Login - LifeOS</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
</head>
<body class="bg-gray-100 flex items-center justify-center min-h-screen">
    <div class="text-center p-8 bg-white rounded-lg shadow-xl">
        <h1 class="text-3xl font-bold text-gray-800 mb-6">Login to LifeOS</h1>
        <button id="google-signin-button" class="bg-blue-500 hover:bg-blue-600 text-white font-bold py-2 px-4 rounded inline-flex items-center">
            <svg class="w-4 h-4 mr-2" viewBox="0 0 533.5 544.3" xmlns="http://www.w3.org/2000/svg"><path d="M533.5 272.3c0-18.7-1.6-36.5-4.7-53.5H272.1v100.3h147c-6.1 33.7-25.7 63.7-55.9 84.1v65.6h85.1c49.8-46.1 78.5-114.7 78.5-199.1z" fill="#4285F4"/><path d="M272.1 544.3c73.4 0 135.3-24.1 180.4-65.7l-85.1-65.6c-25 16.7-57.2 26.6-95.3 26.6-73.6 0-135-49.9-157.6-117.6H28.9v67.9c44.1 87.6 132.3 149.2 243.2 149.2z" fill="#34A853"/><path d="M114.5 326.6c-5.5-16.7-8.7-34.4-8.7-54 0-19.6 3.2-37.3 8.7-54V144H28.9C10.6 179.3 0 224.2 0 272.3c0 48.1 10.6 93 28.9 128.3L114.5 326.6z" fill="#FBBC05"/><path d="M272.1 107.7c39 0 69.5 13.5 85.1 27.6l75.4-75.4C407.2 24.1 346.2 0 272.1 0 161.2 0 73 61.6 28.9 149.2l85.6 67.9c22.6-67.8 84-117.7 157.6-117.7z" fill="#EA4335"/></svg>
            Sign in with Google
        </button>
    </div>

    <script type="module">
        import { initializeApp } from 'https://www.gstatic.com/firebasejs/10.7.0/firebase-app.js';
        import { getAuth, GoogleAuthProvider, signInWithPopup } from 'https://www.gstatic.com/firebasejs/10.7.0/firebase-auth.js';

        const firebaseConfig = {
            apiKey: "AIzaSyBRVrKfFmJmQL07HB2_tyPk4mwcPQQqXdM",
            authDomain: "emilyqiao-vibecoding.firebaseapp.com",
            projectId: "emilyqiao-vibecoding",
            storageBucket: "emilyqiao-vibecoding.firebasestorage.app",
            messagingSenderId: "381599961996",
            appId: "1:381599961996:web:9e87f662db6948fef77ca9",
            measurementId: "G-BK6EVmMGBR"
        };

        // Initialize Firebase
        const app = initializeApp(firebaseConfig);
        const auth = getAuth(app);
        const provider = new GoogleAuthProvider();

        document.getElementById('google-signin-button').addEventListener('click', async () => {
            try {
                await signInWithPopup(auth, provider);
                window.location.href = '/hub'; // Redirect to dashboard on successful login
            } catch (error) {
                console.error("Error during Google Sign-In:", error);
                alert("Failed to sign in. Please try again.");
            }
        });
    </script>
</body>
</html>
